<link rel="stylesheet" href="/public/css/cart.css">
<script defer src="/public/js/counter.js"></script>
<main class="main-content">
    <div class="cart-items">
        {{#if results}}
        {{#each results}}
        <div id="product-id">
            {{this.id}}
        </div>
        <div class="card">
            <div class="card-left">
                <img class="card-image" src="https://storage.googleapis.com/artisan-aura-photo-bucket/{{this.thumbnail}}"
                    alt="Missing Image">
            </div>
            <div class="card-right">
                <a href="/product/{{this.id}}" class="card-title">{{this.title}}</a>
                <p class="card-price">${{this.price}}</p>
                <div class="card-quantity">
                    <label for="quantity">Quantity: </label>
                    <div class="counter">
                        <form class="counter-down" action="/cart/dec-qty/{{this.id}}" method="POST" enctype="application/x-www-form-urlencoded">
                            <input class="down">-</input>
                        </form>                        
                        <input type="text" value="{{this.quantity}}">
                        <form class="counter-up" action="/cart/inc-qty/{{this.id}}" method="POST" enctype="application/x-www-form-urlencoded">
                            <input class="up">+</input>
                        </form>
                    </div>
                </div>
                <form class="card-remove-form" action="/cart/remove/{{this.id}}" method="POST"
                    enctype="application/x-www-form-urlencoded">
                    <input class="card-remove" type="submit" value="Remove">
                </form>
            </div>
        </div>
        {{/each}}
        {{else}}
        <p>Your shopping cart is empty.</p>
        {{/if}}
    </div>
    <div class="side">
        <div class="side-content">
            <p class="text">Subtotal:</p>
            <p class="cost" id="subtotal">${{subtotal}}</p>
        </div>

        <div class="side-content">
            <p class="text">Tax:</p>
            <p class="cost" id="tax">${{tax}}</p>
        </div>

        <div class="side-content">
            <p class="text">Shipping:</p>
            <p class="cost">${{shipping}}</p>
        </div>

        <div class="side-content">
            <p class="text">Total:</p>
            <p class="total-cost" id="total">${{total}}</p>
        </div>
        <form class="cart-checkout" action="/cart/checkout" method="POST" enctype="application/x-www-form-urlencoded">
            <input class="submit" type="submit" value="Checkout">
        </form>
    </div>
</main>